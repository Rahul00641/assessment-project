<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <title></title>
  <style>
    img {
      height: 180px;
      width: 120px;
      border-radius: 5px;
    }

    p {
      font-size: 17px;
      color:white;
    }

    tr,
    td {
      padding: 10px;
      text-align: center;
      font-weight: bold;
      border-top: 2px solid black;
    }

    table {
      border-collapse: collapse;
      width: 100%;
    }

    .header {
      height: 40px;
      width: 50px;
      margin-right: 20px;
      font-style: italic;
      color: white;
      font-size: 20px;
      font-weight: bold;
      padding-top: 100px;
    }

    header {
      background-color: #0E0E0E;
      padding-top: 15px;
      padding-bottom: 15px;
      border-radius: 8px;
    }

    input {
      height: 40px;
      width: 600px;
      margin-left: 18%;
      border-radius: 6px;
    }

    button {
      height: 40px;
      width: 90px;
      border-width: 0px;
      border-radius: 5px;
      background-color: #121212;
      color:white;
    }

    tr:hover {
      background-color:  #121212;
    }

    #dropdown{
      display: inline-block;
      position: relative;
    }
    #dropdown_content{
      display: none;
      position: absolute;
      z-index: 1;
      background-color: black;
      font-size: 20px;
      width:220px;
    }
    #drop_button{
      margin-left: 24%;
      color: white;
    }
    #dropdown_content a{
      display: block;
      color: white;
      padding: 10px 10px

    }
    #dropdown:hover #dropdown_content{
      display: block;
    }

    #dropdown_content a:hover{
      background-color: #121212;
    }
  </style>
  <header>
    <div id="dropdown">
      <button id="drop_button">Menu</button>
      <div id="dropdown_content">
    <a href="index.html">Home</a>
    <a href="upcoming.html">Latest Movies</a>
    <a href="toprated.html">Toprated Movies</a>
    <a href="trending.html">Popular Movies</a>
    <a href="https://Rahul00641.github.io">About Me</a>
  </div>
  </div>
    <input type="text" id="inp" placeholder="Search Movie">
    <button id='btn' onclick="search()">Search</button>
  </header>
</head>

<body style="background-color:black;">
  <table id="main" align="center">
    <tr>
      <td></td>
      <td>
        <p>Rank & Title</p>
      </td>
      <td>
        <p>Overview</p>
      </td>
      <td>
        <p>Rating</p>
      </td>
      <td>
        <p>Release_Date</p>
      </td>
    </tr>


  </table>


  <script>
    var url = 'https://api.themoviedb.org/3/movie/upcoming?api_key=1abd7f142c9c3c96b26874f416be8d5b&language=en-US&page=1'
    var im_li = 'http://image.tmdb.org/t/p/w185/'
    var serial = 0
    var xhr = new XMLHttpRequest()
    xhr.open('Get', url)
    xhr.onreadystatechange = test

    function test() {
      if (this.readyState == 4 && this.status == 200) {
        var data = JSON.parse(this.responseText)
        var m_table = document.getElementById('main')
        for (var i = 0; i < data.results.length; i++) {
          if (data.results[i].poster_path != null && data.results[i].vote_average > 0) {
            serial = serial + 1
            var table_row = document.createElement('tr')
            var table_data = document.createElement('td')
            var image = document.createElement('img')
            image.setAttribute('src', im_li + data.results[i].poster_path)
            table_data.appendChild(image)
            var table_data2 = document.createElement('td')
            var text = document.createTextNode(serial + '.        ' + data.results[i].original_title)
            var title = document.createElement('p')
            title.appendChild(text)
            table_data2.appendChild(title)
            var table_data3 = document.createElement('td')
            var text = document.createTextNode(data.results[i].overview)
            var overview = document.createElement('p')
            overview.appendChild(text)
            table_data3.appendChild(overview)
            var table_data4 = document.createElement('td')
            var text = document.createTextNode(data.results[i].vote_average)
            var rating = document.createElement('p')
            rating.appendChild(text)
            table_data4.appendChild(rating)
            var table_data5 = document.createElement('td')
            var text = document.createTextNode(data.results[i].release_date)
            var date = document.createElement('p')
            date.appendChild(text)
            table_data5.appendChild(date)
            table_row.appendChild(table_data)
            table_row.appendChild(table_data2)
            table_row.appendChild(table_data3)
            table_row.appendChild(table_data4)
            table_row.appendChild(table_data5)
            m_table.appendChild(table_row)
          }
        }
      }
    }
    xhr.send()


    var url = 'https://api.themoviedb.org/3/movie/upcoming?api_key=1abd7f142c9c3c96b26874f416be8d5b&language=en-US&page=2'
    var xhr = new XMLHttpRequest()
    xhr.open('Get', url)
    xhr.onreadystatechange = test2

    function test2() {
      if (this.readyState == 4 && this.status == 200) {
        var data = JSON.parse(this.responseText)
        var m_table = document.getElementById('main')
        console.log(data)
        for (var i = 0; i < data.results.length; i++) {
          if (data.results[i].poster_path != null && data.results[i].vote_average > 0) {
            serial = serial + 1
            var table_row = document.createElement('tr')
            var table_data = document.createElement('td')
            var image = document.createElement('img')
            image.setAttribute('src', im_li + data.results[i].poster_path)
            table_data.appendChild(image)
            var table_data2 = document.createElement('td')
            var text = document.createTextNode(serial + '.        ' + data.results[i].original_title)
            var title = document.createElement('p')
            title.appendChild(text)
            table_data2.appendChild(title)
            var table_data3 = document.createElement('td')
            var text = document.createTextNode(data.results[i].overview)
            var overview = document.createElement('p')
            overview.appendChild(text)
            table_data3.appendChild(overview)
            var table_data4 = document.createElement('td')
            var text = document.createTextNode(data.results[i].vote_average)
            var rating = document.createElement('p')
            rating.appendChild(text)
            var table_data5 = document.createElement('td')
            var text = document.createTextNode(data.results[i].release_date)
            var date = document.createElement('p')
            date.appendChild(text)
            table_data5.appendChild(date)
            table_data4.appendChild(rating)
            table_row.appendChild(table_data)
            table_row.appendChild(table_data2)
            table_row.appendChild(table_data3)
            table_row.appendChild(table_data4)
            table_row.appendChild(table_data5)
            m_table.appendChild(table_row)
          }
        }
      }
    }
    xhr.send()

    
    var url = 'https://api.themoviedb.org/3/movie/upcoming?api_key=1abd7f142c9c3c96b26874f416be8d5b&language=en-US&page=3'
    var xhr = new XMLHttpRequest()
    xhr.open('Get', url)
    xhr.onreadystatechange = test3

    function test3() {
      if (this.readyState == 4 && this.status == 200) {
        var data = JSON.parse(this.responseText)
        var m_table = document.getElementById('main')
        console.log(data)
        for (var i = 0; i < data.results.length; i++) {
          if (data.results[i].poster_path != null && data.results[i].vote_average > 0) {
            serial = serial + 1
            var table_row = document.createElement('tr')
            var table_data = document.createElement('td')
            var image = document.createElement('img')
            image.setAttribute('src', im_li + data.results[i].poster_path)
            table_data.appendChild(image)
            var table_data2 = document.createElement('td')
            var text = document.createTextNode(serial + '.        ' + data.results[i].original_title)
            var title = document.createElement('p')
            title.appendChild(text)
            table_data2.appendChild(title)
            var table_data3 = document.createElement('td')
            var text = document.createTextNode(data.results[i].overview)
            var overview = document.createElement('p')
            overview.appendChild(text)
            table_data3.appendChild(overview)
            var table_data4 = document.createElement('td')
            var text = document.createTextNode(data.results[i].vote_average)
            var rating = document.createElement('p')
            rating.appendChild(text)
            var table_data5 = document.createElement('td')
            var text = document.createTextNode(data.results[i].release_date)
            var date = document.createElement('p')
            date.appendChild(text)
            table_data5.appendChild(date)
            table_data4.appendChild(rating)
            table_row.appendChild(table_data)
            table_row.appendChild(table_data2)
            table_row.appendChild(table_data3)
            table_row.appendChild(table_data4)
            table_row.appendChild(table_data5)
            m_table.appendChild(table_row)
          }
        }
      }
    }
    xhr.send()


    function search() {
      var url = 'https://api.themoviedb.org/3/search/movie?api_key=1abd7f142c9c3c96b26874f416be8d5b&query='
      var movie = document.getElementById('inp')
      url = url + movie.value
      var xhr = new XMLHttpRequest()
      xhr.open('Get', url)
      xhr.onreadystatechange = test4

      function test4() {
        if (this.readyState == 4 && this.status == 200) {
          var data = JSON.parse(this.responseText)
          var m_table = document.getElementById('main')
          var body = document.getElementById('body_del')
          m_table.innerHTML = ' '
          var serial = 0
          for (var i = 0; i < data.results.length; i++) {
            if (data.results[i].poster_path != null && data.results[i].vote_average > 0) {
              serial = serial + 1
              var table_row = document.createElement('tr')
              var table_data = document.createElement('td')
              var image = document.createElement('img')
              image.setAttribute('class', 'table_img')
              image.setAttribute('src', im_li + data.results[i].poster_path)
              table_data.appendChild(image)
              var table_data2 = document.createElement('td')
              var text = document.createTextNode(serial + '.        ' + data.results[i].original_title)
              var title = document.createElement('p')
              title.appendChild(text)
              table_data2.appendChild(title)
            var table_data3 = document.createElement('td')
            var text = document.createTextNode(data.results[i].overview)
            var overview = document.createElement('p')
            overview.appendChild(text)
            table_data3.appendChild(overview)
            var table_data4 = document.createElement('td')
            var text = document.createTextNode(data.results[i].vote_average)
            var rating = document.createElement('p')
            rating.appendChild(text)
            table_data4.appendChild(rating)
            var table_data5 = document.createElement('td')
            var text = document.createTextNode(data.results[i].release_date)
            var date = document.createElement('p')
            date.appendChild(text)
            table_data5.appendChild(date)
            table_row.appendChild(table_data)
            table_row.appendChild(table_data2)
            table_row.appendChild(table_data3)
            table_row.appendChild(table_data4)
            table_row.appendChild(table_data5)
            m_table.appendChild(table_row)
            }
          }
        }
      }
      xhr.send()
    }
  </script>
</body>

</html>
